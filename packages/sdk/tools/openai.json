[
  {
    "type": "function",
    "function": {
      "name": "bloom_create_agent",
      "description": "Create a new agent for the authenticated user.",
      "parameters": {
        "type": "object",
        "properties": {
          "agent_id": { "type": "string" },
          "user_id": { "type": "string" }
        },
        "additionalProperties": false
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "bloom_can_do",
      "description": "Request a quote to see if an intent is allowed.",
      "parameters": {
        "type": "object",
        "properties": {
          "agent_id": { "type": "string" },
          "intent_json": { "type": "object" },
          "idempotency_key": { "type": "string" },
          "user_id": { "type": "string" }
        },
        "required": ["agent_id", "intent_json"],
        "additionalProperties": false
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "bloom_execute",
      "description": "Execute a previously approved quote.",
      "parameters": {
        "type": "object",
        "properties": {
          "quote_id": { "type": "string" },
          "idempotency_key": { "type": "string" },
          "step_up_token": { "type": "string" },
          "override_freshness": { "type": "boolean" }
        },
        "required": ["quote_id", "idempotency_key"],
        "additionalProperties": false
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "bloom_get_state",
      "description": "Fetch the latest state and observation for an agent.",
      "parameters": {
        "type": "object",
        "properties": {
          "agent_id": { "type": "string" }
        },
        "required": ["agent_id"],
        "additionalProperties": false
      }
    }
  },
  {
    "type": "function",
    "function": {
      "name": "bloom_get_receipts",
      "description": "Fetch receipts for an agent.",
      "parameters": {
        "type": "object",
        "properties": {
          "agent_id": { "type": "string" },
          "since": { "type": "number" }
        },
        "required": ["agent_id"],
        "additionalProperties": false
      }
    }
  }
]
